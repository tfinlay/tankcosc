<!DOCTYPE html>
<html>
<head>
    <title>Register</title>
</head>
<body>

<input type="text" id="usernameField" placeholder="username"/>
<button id="submitBtn">Submit</button>

<div id="status"></div>

<script type="text/javascript">
const statusEl = document.getElementById("status")

document.getElementById("submitBtn").addEventListener("click", async () => {
    const res = await fetch("", {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json'
        },
        body: JSON.stringify({
            name: document.getElementById("usernameField").value
        })
    })

    const data = await res.json()

    if (res.ok) {
        statusEl.innerText = `Key: ${data.key}`
    }
    else {
        statusEl.innerText = `An error occurred`
        statusEl.innerText = `Error: ${data.error.message}`
    }
})
</script>

</body>
</html>